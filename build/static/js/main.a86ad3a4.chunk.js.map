{"version":3,"sources":["apis/blogApi.js","components/CommentCreate.js","components/CommentBox.js","components/PostList.js","actions/index.js","components/articles/ArticleCreate.js","components/Header.js","components/user/Login.js","components/App.js","reducers/index.js","reducers/postsReducer.js","index.js"],"names":["axios","create","baseURL","CommentCreate","state","name","body","onFormSubmit","event","blogApi","post","article","props","articleId","setState","title","window","location","reload","buttonPressSubmit","preventDefault","class","onSubmit","this","className","type","value","onChange","e","target","onClick","React","Component","CommentBox","comments","getComments","id","a","get","response","data","map","comment","key","console","log","renderList","PostList","fetchPosts","marked","setOptions","highlight","code","lang","hljs","highlightAuto","posts","dangerouslySetInnerHTML","__html","connect","dispatch","payload","ArticleCreate","markdown","ACCESSTOKEN","localStorage","getItem","headers","Authorization","Header","to","Login","password","username","setItem","access","userid","App","path","exact","component","combineReducers","action","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.a86ad3a4.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://thiele.work/api/v1'\r\n    //baseURL: 'http://127.0.0.1:8000/api/v1'\r\n});","import React from 'react';\r\nimport blogApi from '../apis/blogApi';\r\n\r\nclass CommentCreate extends React.Component {\r\n    \r\n    state = {name:'', body:''}\r\n\r\n    onFormSubmit = event => {\r\n\r\n        blogApi.post(\"/comments/\", {\r\n            article: this.props.articleId,\r\n            name: this.state.name,\r\n            body: this.state.body,\r\n        },\r\n        );\r\n        this.setState({title: '', body: ''})\r\n        window.location.reload();\r\n    }\r\n\r\n    buttonPressSubmit = event => {\r\n        event.preventDefault();\r\n        this.onFormSubmit();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form class=\"ui reply form\" onSubmit={this.onFormSubmit}>\r\n                <div className=\"field\">\r\n                    <label>Name</label>\r\n                    <input \r\n                        type=\"text\"\r\n                        value={this.state.name}\r\n                        onChange={(e) => this.setState({name: e.target.value})}\r\n                    />\r\n                </div>\r\n                <div className=\"field\">\r\n                    <label>Body</label>\r\n                    <textarea\r\n                        value={this.state.body}\r\n                        onChange={(e) => this.setState({body: e.target.value})}\r\n                    />\r\n                </div>\r\n                <div class=\"ui primary submit labeled icon button\" onClick={this.buttonPressSubmit}>\r\n                    <i class=\"icon edit\"></i> Add Comment\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default CommentCreate;","import React from 'react';\r\nimport blogApi from '../apis/blogApi';\r\nimport CommentCreate from './CommentCreate';\r\n\r\nclass CommentBox extends React.Component {\r\n\r\n    state = { comments: [] };\r\n\r\n    getComments = async id =>{\r\n        const response = await blogApi.get(`/comments/?article_id=${id}`)\r\n\r\n        this.setState({comments: response.data})\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getComments(this.props.articleId)\r\n    }\r\n    \r\n    renderList() {\r\n        return this.state.comments.map(comment => {\r\n            return (\r\n                <div className=\"comment\" key={comment.id}>\r\n                    <div className=\"content\">\r\n                        <div className=\"author\">{comment.name}</div>\r\n                        <div className=\"text\">{comment.body}</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n    };\r\n    \r\n    render() {\r\n        console.log(this.state);\r\n        return (\r\n            <div className=\"ui small comments\">\r\n                <h3 class=\"ui dividing header\">Comments</h3>\r\n                {this.renderList()}\r\n                <CommentCreate articleId={this.props.articleId} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CommentBox","import './PostList.css';\r\nimport React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { fetchPosts } from '../actions';\r\nimport marked from 'marked';\r\nimport hljs from 'highlightjs';\r\n\r\nimport CommentBox from './CommentBox';\r\n\r\nclass PostList extends React.Component {\r\n    componentDidMount() {\r\n        this.props.fetchPosts();\r\n        marked.setOptions({\r\n            highlight: function(code, lang) {\r\n              return hljs.highlightAuto(code, [lang]).value;\r\n            }\r\n        });\r\n    }\r\n\r\n    renderList() {\r\n        return this.props.posts.map(post => {\r\n            return (\r\n                <div className=\"ui segment\">\r\n                    <div className=\"item\" key={post.id}>\r\n                        <div className=\"content\">\r\n                            <div className=\"description\">\r\n                                <h1 className=\"ui dividing header\">{post.title}</h1>\r\n                                <div dangerouslySetInnerHTML={{__html: marked(post.body)}}></div>\r\n                                <CommentBox articleId={post.id} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"ui relaxed divided list\">{this.renderList()}</div>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { posts: state.posts };\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchPosts })(PostList);","import _ from 'lodash';\r\nimport blogApi from '../apis/blogApi';\r\n\r\nexport const fetchPosts = () => async dispatch => {\r\n    const response = await blogApi.get('/articles/');\r\n\r\n    dispatch({ type: 'FETCH_POSTS', payload: response.data })\r\n};\r\n","import React from 'react';\r\nimport marked from 'marked';\r\nimport hljs from 'highlightjs';\r\nimport blogApi from '../../apis/blogApi';\r\n\r\n// const ArticleCreate = () => {\r\n//     return (\r\n//         <div></div>\r\n//     );\r\n// };\r\n\r\nclass ArticleCreate extends React.Component {\r\n    state = { title: '', markdown: '' }\r\n\r\n    onFormSubmit = event => {\r\n        const ACCESSTOKEN = localStorage.getItem('access');\r\n\r\n        blogApi.post(\"/articles/\", {\r\n            title: this.state.title,\r\n            body: this.state.markdown\r\n        },\r\n        {\r\n            headers: {\r\n                Authorization: `JWT ${ACCESSTOKEN}`,\r\n            }\r\n        });\r\n        this.setState({title: '', markdown: ''})\r\n    }\r\n    \r\n    buttonPressSubmit = event => {\r\n        event.preventDefault();\r\n        this.onFormSubmit();\r\n    }\r\n\r\n    componentDidMount() {\r\n        marked.setOptions({\r\n            highlight: function(code, lang) {\r\n              return hljs.highlightAuto(code, [lang]).value;\r\n            }\r\n        });\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                    <div className=\"ui two column stackable grid\">\r\n                        <div className=\"column\">\r\n                            <div className=\"ui segment\">\r\n                                <div className=\"ui form\">\r\n                                    <form className=\"ui form\" onSubmit={this.onFormSubmit}>\r\n                                        <div className=\"field\">\r\n                                            <label>Title</label>\r\n                                            <input \r\n                                                type=\"text\"\r\n                                                value={this.state.title}\r\n                                                onChange={(e) => this.setState({title: e.target.value})}\r\n                                            />\r\n                                        </div>\r\n                                        <div className=\"field\">\r\n                                            <label>Body</label>\r\n                                            <textarea\r\n                                                value={this.state.markdown}\r\n                                                onChange={(e) => this.setState({markdown: e.target.value})}\r\n                                            />\r\n                                        </div>\r\n                                        <button class=\"fluid ui button\" onClick={this.buttonPressSubmit}>Submit</button>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"column\">\r\n                            <div className=\"ui segment\">\r\n                                <div dangerouslySetInnerHTML={{__html: marked(this.state.markdown)}}></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ArticleCreate;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <div className=\"ui secondary pointing menu\">\r\n            <Link to=\"/\" className=\"active item\">\r\n                Thiele's blog\r\n            </Link>\r\n            <Link to=\"/articles/new\" className=\"item\">\r\n                New Post\r\n            </Link>\r\n            <div className=\"right menu\">\r\n                <Link to=\"/\" className=\"item\">\r\n                    All Articles\r\n                </Link>\r\n                <Link to=\"login\" className=\"item\">\r\n                    Login\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport blogApi from '../../apis/blogApi';\r\n\r\nclass Login extends React.Component {\r\n    state = {id: '', password: ''}\r\n\r\n    onFormSubmit = async event => {\r\n        const response = await blogApi.post(\"/auth/jwt/create/\", {\r\n            username: this.state.id,\r\n            password: this.state.password\r\n        });\r\n        localStorage.setItem('access', response.data.access)\r\n        this.setState({id: '', password: ''})\r\n    }\r\n\r\n    buttonPressSubmit = event => {\r\n        event.preventDefault();\r\n        this.onFormSubmit();\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"ui segment\">\r\n                <div className=\"ui form\">\r\n                    <form className=\"ui form\" onSubmit={this.onFormSubmit}>\r\n                        <div className=\"field\">\r\n                            <label>UserId</label>\r\n                            <input \r\n                                type=\"text\"\r\n                                value={this.state.userid}\r\n                                onChange={(e) => this.setState({id: e.target.value})}\r\n                            />\r\n                        </div>\r\n                        <div className=\"field\">\r\n                            <label>Password</label>\r\n                            <input \r\n                                type=\"password\"\r\n                                value={this.state.password}\r\n                                onChange={(e) => this.setState({password: e.target.value})}\r\n                            />\r\n                        </div>\r\n                        <button class=\"fluid ui button\" onClick={this.buttonPressSubmit}>Submit</button>                        \r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport PostList from './PostList';\r\nimport ArticleCreate from './articles/ArticleCreate';\r\nimport Header from './Header';\r\nimport Login from './user/Login';\r\n\r\nconst App = () => {\r\n    return (\r\n        <div className=\"ui container\">\r\n            <BrowserRouter>\r\n                <div>\r\n                    <Header />\r\n                    <Route path=\"/\" exact component={PostList} />\r\n                    <Route path=\"/login\" exact component={Login} />\r\n                    <Route path=\"/articles/new\" exact component={ArticleCreate} />\r\n                </div>\r\n            </BrowserRouter>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App","import { combineReducers } from 'redux';\r\nimport postsReducers from './postsReducer';\r\n\r\nexport default combineReducers({\r\n    posts: postsReducers,\r\n});","export default (state=[], action) => {\r\n    switch(action.type) {\r\n        case 'FETCH_POSTS':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.querySelector('#root')\r\n);"],"sourceRoot":""}