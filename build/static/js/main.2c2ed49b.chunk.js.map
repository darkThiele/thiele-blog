{"version":3,"sources":["apis/blogApi.js","components/TitleList.js","actions/index.js","components/CommentCreate.js","components/CommentBox.js","components/PostList.js","components/PostDetail.js","components/user/LoginNotification.js","components/articles/ArticleCreate.js","components/Header.js","components/user/Login.js","components/App.js","reducers/index.js","reducers/postReducer.js","reducers/postsReducer.js","reducers/titlesReducer.js","index.js"],"names":["axios","create","baseURL","TitleList","helperUrl","id","this","props","fetchTitles","titles","map","title","className","to","created_at","renderList","React","Component","connect","state","dispatch","a","blogApi","get","response","type","payload","data","CommentCreate","name","body","errors","handleChange","event","preventDefault","target","value","length","setState","console","log","onFormSubmit","post","article","articleId","window","location","reload","buttonPressSubmit","checkSubmit","opacity","onSubmit","onChange","onClick","style","CommentBox","comments","getComments","comment","key","PostList","fetchPosts","marked","setOptions","highlight","code","lang","hljs","highlightAuto","posts","dangerouslySetInnerHTML","__html","PostDetail","fetchPost","match","params","LoginNotification","func","toast","info","loginCheck","ACCESSTOKEN","localStorage","getItem","token","status","warn","success","error","nextProps","nextState","propsDiff","_","isEqual","stateDiff","addNotification","ArticleCreate","markdown","headers","Authorization","assign","e","Header","Login","password","username","setItem","access","userid","App","path","exact","component","combineReducers","action","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.2c2ed49b.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://thiele.work/api/v1'\r\n    //baseURL: 'http://127.0.0.1:8000/api/v1'\r\n});","import React from 'react';\r\nimport {connect} from 'react-redux'\r\nimport { fetchTitles } from '../actions';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass TitleList extends React.Component {\r\n    componentDidMount() {\r\n        this.props.fetchTitles();\r\n    };\r\n\r\n    helperUrl = id => {\r\n        return `/articles/${id}`;\r\n    }\r\n\r\n    renderList() {\r\n        return this.props.titles.map(title => {\r\n            return (\r\n                <div className=\"item\">\r\n                    <i className=\"large angle double right icon\"></i>\r\n                    <div className=\"content\">\r\n                        <Link to={`/articles/${title.id}`} className=\"header\">\r\n                            {title.title}\r\n                        </Link>\r\n                        <div className=\"description\">{title.created_at}</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ui relaxed divided list\">\r\n                {this.renderList()}\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { titles: state.titles };\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchTitles })(TitleList);","import blogApi from '../apis/blogApi';\r\n\r\nexport const fetchPosts = () => async dispatch => {\r\n    const response = await blogApi.get('/articles/');\r\n\r\n    dispatch({ type: 'FETCH_POSTS', payload: response.data })\r\n};\r\n\r\n\r\nexport const fetchTitles = () => async dispatch => {\r\n    const response = await blogApi.get('/titles/');\r\n\r\n    dispatch({ type: 'FETCH_TITLES', payload: response.data })\r\n};\r\n\r\nexport const fetchPost = id => async dispatch => {\r\n    const response = await blogApi.get(`/articles/${id}/`);\r\n\r\n    dispatch({ type: 'FETCH_POST', payload: response.data })\r\n};","import './CommentCreate.css';\r\nimport React from 'react';\r\nimport blogApi from '../apis/blogApi';\r\n\r\nclass CommentCreate extends React.Component {\r\n    \r\n    state = {name:'', body:'', errors:{name:'必須項目です', body:'必須項目です'}}\r\n\r\n    handleChange = (event) => {\r\n        event.preventDefault();\r\n        const { name, value } = event.target;\r\n        let errors = this.state.errors;\r\n      \r\n        switch (name) {\r\n          case 'name': \r\n            errors.name = \r\n              value.length < 1\r\n                ? '名前を入力してください！'\r\n                : '';\r\n            break;\r\n          case 'body': \r\n            errors.body = \r\n              value.length >= 1 && value.length <= 200\r\n                ? ''\r\n                : 'コメントは1文字以上200文字以内としてください！';\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      \r\n        this.setState({errors, [name]: value}, ()=> {\r\n            console.log(errors)\r\n        })\r\n      }\r\n\r\n    onFormSubmit = event => {\r\n\r\n        blogApi.post(\"/comments/\", {\r\n            article: this.props.articleId,\r\n            name: this.state.name,\r\n            body: this.state.body,\r\n        },\r\n        );\r\n        this.setState({name: '', body: ''})\r\n        window.location.reload();\r\n    }\r\n\r\n    buttonPressSubmit = event => {\r\n        event.preventDefault();\r\n        const {errors} = this.state;\r\n        if (!(errors.name.length > 0 || errors.body.length > 0)){\r\n            this.onFormSubmit();  \r\n        } \r\n    }\r\n\r\n    checkSubmit = () => {\r\n        const {errors} = this.state;\r\n        if (errors.name.length > 0 || errors.body.length > 0){\r\n            return {opacity: 0.3}\r\n        } \r\n    }\r\n\r\n    render() {\r\n        \r\n        const {errors} = this.state;\r\n\r\n        return (\r\n            <form className=\"ui reply form\" onSubmit={this.onFormSubmit}>\r\n                <div className=\"field\">\r\n                    <label>Name</label>\r\n                    <input \r\n                        name=\"name\"\r\n                        type=\"text\"\r\n                        value={this.state.name}\r\n                        onChange={this.handleChange}\r\n                    />\r\n                    {errors.name.length > 0 && \r\n                    <span className='error'>{errors.name}</span>}\r\n                </div>\r\n                <div className=\"field\">\r\n                    <label>Body</label>\r\n                    <textarea\r\n                        name=\"body\"\r\n                        value={this.state.body}\r\n                        onChange={this.handleChange}\r\n                    />\r\n                    {errors.body.length > 0 && \r\n                    <span className='error'>{errors.body}</span>}\r\n                    <div className=\"count\">{this.state.body.length}/200</div>\r\n                </div>\r\n                <div className=\"ui primary submit labeled icon button\" onClick={this.buttonPressSubmit} style={this.checkSubmit()} >\r\n                    <i className=\"icon edit\"></i> Add Comment\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default CommentCreate;","import React from 'react';\r\nimport blogApi from '../apis/blogApi';\r\nimport CommentCreate from './CommentCreate';\r\n\r\nclass CommentBox extends React.Component {\r\n\r\n    state = { comments: [] };\r\n\r\n    getComments = async id =>{\r\n        const response = await blogApi.get(`/comments/?article_id=${id}`)\r\n\r\n        this.setState({comments: response.data})\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getComments(this.props.articleId)\r\n    }\r\n    \r\n    renderList() {\r\n        return this.state.comments.map(comment => {\r\n            return (\r\n                <div className=\"comment\" key={comment.id}>\r\n                    <div className=\"content\">\r\n                        <div className=\"author\">{comment.name}</div>\r\n                        <div className=\"text\">{comment.body}</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n    };\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"ui small comments\">\r\n                <h3 className=\"ui dividing header\">Comments</h3>\r\n                {this.renderList()}\r\n                <CommentCreate articleId={this.props.articleId} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CommentBox","import './PostList.css';\r\nimport React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { fetchPosts } from '../actions';\r\nimport marked from 'marked';\r\nimport hljs from 'highlightjs';\r\n\r\nimport CommentBox from './CommentBox';\r\n\r\nclass PostList extends React.Component {\r\n    componentDidMount() {\r\n        this.props.fetchPosts();\r\n        marked.setOptions({\r\n            highlight: function(code, lang) {\r\n              return hljs.highlightAuto(code, [lang]).value;\r\n            }\r\n        });\r\n    }\r\n\r\n    renderList() {\r\n        return this.props.posts.map(post => {\r\n            return (\r\n                <div className=\"ui segment\">\r\n                    <div className=\"item\" key={post.id}>\r\n                        <div className=\"content\">\r\n                            <div className=\"description\">\r\n                                <h1 className=\"ui dividing header\">{post.title}</h1>\r\n                                <div dangerouslySetInnerHTML={{__html: marked(post.body)}}></div>\r\n                                <CommentBox articleId={post.id} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"ui relaxed divided list\">{this.renderList()}</div>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { posts: state.posts };\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchPosts })(PostList);","import './PostList.css';\r\nimport React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { fetchPost } from '../actions';\r\nimport marked from 'marked';\r\nimport hljs from 'highlightjs';\r\n\r\nimport CommentBox from './CommentBox';\r\n\r\nclass PostDetail extends React.Component {\r\n    componentDidMount() {\r\n        this.props.fetchPost(this.props.match.params.id);\r\n        marked.setOptions({\r\n            highlight: function(code, lang) {\r\n            return hljs.highlightAuto(code, [lang]).value;\r\n            }\r\n        });\r\n    }\r\n\r\n    renderList() {\r\n        const post = this.props.post;\r\n        return (\r\n            <div className=\"ui segment\">\r\n                <div className=\"item\" key={post.id}>\r\n                    <div className=\"content\">\r\n                        <div className=\"description\">\r\n                            <h1 className=\"ui dividing header\">{post.title}</h1>\r\n                            <div dangerouslySetInnerHTML={{__html: marked(post.body || '')}}></div>\r\n                            <CommentBox articleId={post.id} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        if (this.props.match.params.id === \"new\"){\r\n            return null;\r\n        }\r\n\r\n        console.log(this.props);\r\n        return <div className=\"ui relaxed divided list\">{this.renderList()}</div>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { post: state.post };\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchPost })(PostDetail);","import _ from 'lodash';\r\nimport React from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport blogApi from '../../apis/blogApi';\r\n\r\nclass LoginNotification extends React.Component {\r\n\r\n    state = { func: function(){toast.info(\"Login required to create an article\")} }\r\n\r\n    loginCheck = () => {\r\n        const ACCESSTOKEN = localStorage.getItem('access');\r\n        if (!ACCESSTOKEN) {\r\n            this.setState({func: function(){\r\n                toast.error(\"You are not logged in\")}}) \r\n        } else {\r\n            (async () => {\r\n                const response = await blogApi.post(\"/auth/jwt/verify/\", {\r\n                    token: ACCESSTOKEN\r\n                });\r\n                if (response.status !== 200) {\r\n                    this.setState({func: function(){\r\n                        toast.warn(\"Your token has expired\")}})\r\n                } else {\r\n                    this.setState({func: function(){\r\n                        toast.success(\"You are logged in\")}})\r\n                }\r\n                \r\n            })();\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        const propsDiff = _.isEqual(nextProps, this.props);\r\n        const stateDiff = _.isEqual(nextState, this.state);\r\n        return !(propsDiff && stateDiff);\r\n      }\r\n\r\n    componentDidMount(){\r\n        this.loginCheck()\r\n    }\r\n\r\n    render() {\r\n        this.addNotification = this.state.func\r\n        return (\r\n            <div>\r\n                {this.addNotification()}\r\n                <ToastContainer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoginNotification;","import React from 'react';\r\nimport marked from 'marked';\r\nimport hljs from 'highlightjs';\r\nimport blogApi from '../../apis/blogApi';\r\nimport LoginNotification from '../user/LoginNotification';\r\n\r\n// const ArticleCreate = () => {\r\n//     return (\r\n//         <div></div>\r\n//     );\r\n// };\r\n\r\nclass ArticleCreate extends React.Component {\r\n    state = { title: '', markdown: '' }\r\n\r\n    onFormSubmit = event => {\r\n        const ACCESSTOKEN = localStorage.getItem('access');\r\n\r\n        blogApi.post(\"/articles/\", {\r\n            title: this.state.title,\r\n            body: this.state.markdown\r\n        },\r\n        {\r\n            headers: {\r\n                Authorization: `JWT ${ACCESSTOKEN}`,\r\n            }\r\n        });\r\n        this.setState({title: '', markdown: ''})\r\n        window.location.assign(\"../\")\r\n    }\r\n    \r\n    buttonPressSubmit = event => {\r\n        event.preventDefault();\r\n        this.onFormSubmit();\r\n    }\r\n\r\n    componentDidMount() {\r\n        marked.setOptions({\r\n            highlight: function(code, lang) {\r\n              return hljs.highlightAuto(code, [lang]).value;\r\n            }\r\n        });\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <LoginNotification />\r\n                <div className=\"ui two column stackable grid\">\r\n                    <div className=\"column\">\r\n                        <div className=\"ui segment\">\r\n                            <div className=\"ui form\">\r\n                                <form className=\"ui form\" onSubmit={this.onFormSubmit}>\r\n                                    <div className=\"field\">\r\n                                        <label>Title</label>\r\n                                        <input \r\n                                            type=\"text\"\r\n                                            value={this.state.title}\r\n                                            onChange={(e) => this.setState({title: e.target.value})}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"field\">\r\n                                        <label>Body</label>\r\n                                        <textarea\r\n                                            value={this.state.markdown}\r\n                                            onChange={(e) => this.setState({markdown: e.target.value})}\r\n                                        />\r\n                                    </div>\r\n                                    <button className=\"fluid ui button\" onClick={this.buttonPressSubmit}>Submit</button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"column\">\r\n                        <div className=\"ui segment\">\r\n                            <div dangerouslySetInnerHTML={{__html: marked(this.state.markdown)}}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ArticleCreate;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <div className=\"ui secondary pointing menu\">\r\n            <Link to=\"/\" className=\"active item\">\r\n                Thiele's blog\r\n            </Link>\r\n            <Link to=\"/articles/new\" className=\"item\">\r\n                New Post\r\n            </Link>\r\n            <div className=\"right menu\">\r\n                <Link to=\"/titles\" className=\"item\">\r\n                    Title List\r\n                </Link>\r\n                <Link to=\"/login\" className=\"item\">\r\n                    Login\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport blogApi from '../../apis/blogApi';\r\n\r\nclass Login extends React.Component {\r\n    state = {id: '', password: ''}\r\n\r\n    onFormSubmit = async event => {\r\n        const response = await blogApi.post(\"/auth/jwt/create/\", {\r\n            username: this.state.id,\r\n            password: this.state.password\r\n        });\r\n        localStorage.setItem('access', response.data.access)\r\n        this.setState({id: '', password: ''})\r\n        window.location.assign(\"../\")\r\n    }\r\n\r\n    buttonPressSubmit = event => {\r\n        event.preventDefault();\r\n        this.onFormSubmit();\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"ui segment\">\r\n                <div className=\"ui form\">\r\n                    <form className=\"ui form\" onSubmit={this.onFormSubmit}>\r\n                        <div className=\"field\">\r\n                            <label>UserId</label>\r\n                            <input \r\n                                type=\"text\"\r\n                                value={this.state.userid}\r\n                                onChange={(e) => this.setState({id: e.target.value})}\r\n                            />\r\n                        </div>\r\n                        <div className=\"field\">\r\n                            <label>Password</label>\r\n                            <input \r\n                                type=\"password\"\r\n                                value={this.state.password}\r\n                                onChange={(e) => this.setState({password: e.target.value})}\r\n                            />\r\n                        </div>\r\n                        <button className=\"fluid ui button\" onClick={this.buttonPressSubmit}>Submit</button>                        \r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport TitleList from './TitleList';\r\nimport PostList from './PostList';\r\nimport PostDetail from './PostDetail';\r\nimport ArticleCreate from './articles/ArticleCreate';\r\nimport Header from './Header';\r\nimport Login from './user/Login';\r\n\r\nconst App = () => {\r\n    return (\r\n        <div className=\"ui container\">\r\n            <BrowserRouter>\r\n                <div>\r\n                    <Header />\r\n                    <Route path=\"/\" exact component={PostList} />\r\n                    <Route path=\"/titles\" exact component={TitleList} />\r\n                    <Route path=\"/login\" exact component={Login} />\r\n                    <Route path=\"/articles/new\" exact component={ArticleCreate} />\r\n                    <Route path=\"/articles/:id\" exact component={PostDetail} />\r\n                </div>\r\n            </BrowserRouter>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App","import { combineReducers } from 'redux';\r\nimport postsReducers from './postsReducer';\r\nimport titlesReducers from './titlesReducer';\r\nimport postReducers from './postReducer';\r\n\r\nexport default combineReducers({\r\n    post: postReducers,\r\n    posts: postsReducers,\r\n    titles: titlesReducers,\r\n});","export default (state=[], action) => {\r\n    switch(action.type) {\r\n        case 'FETCH_POST':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export default (state=[], action) => {\r\n    switch(action.type) {\r\n        case 'FETCH_POSTS':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export default (state=[], action) => {\r\n    switch(action.type) {\r\n        case 'FETCH_TITLES':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.querySelector('#root')\r\n);"],"sourceRoot":""}