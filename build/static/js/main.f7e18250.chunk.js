(window.webpackJsonpblog=window.webpackJsonpblog||[]).push([[0],{43:function(e,t,a){e.exports=a(74)},52:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),s=a.n(c),i=a(25),l=a(10),o=a(40),u=a(19),m=a(9),d=a(11),p=a(12),h=a(14),v=a(13),f=a(15),b=(a(52),a(16)),E=a.n(b),g=a(23),w=(a(54),a(41)),y=a.n(w).a.create({baseURL:"https://thiele.work/api/v1"}),S=a(17),O=a.n(S),N=a(24),j=a.n(N),k=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts(),O.a.setOptions({highlight:function(e,t){return j.a.highlightAuto(e,[t]).value}})}},{key:"renderList",value:function(){return this.props.posts.map(function(e){return r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",{className:"item",key:e.id},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"description"},r.a.createElement("h1",{className:"ui dividing header"},e.title),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:O()(e.body)}})))))})}},{key:"render",value:function(){return r.a.createElement("div",{className:"ui relaxed divided list"},this.renderList())}}]),t}(r.a.Component),x=Object(i.b)(function(e){return{posts:e.posts}},{fetchPosts:function(){return function(){var e=Object(g.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/articles/");case 2:a=e.sent,t({type:"FETCH_POSTS",payload:a.data});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(k),C=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",markdown:""},a.onFormSubmit=function(e){var t=localStorage.getItem("access");y.post("/articles/",{title:a.state.title,body:a.state.markdown},{headers:{Authorization:"JWT ".concat(t)}}),a.setState({title:"",markdown:""})},a.buttonPressSubmit=function(e){e.preventDefault(),a.onFormSubmit()},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){O.a.setOptions({highlight:function(e,t){return j.a.highlightAuto(e,[t]).value}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",{className:"ui two column very relaxed grid"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui form"},r.a.createElement("form",{className:"ui form",onSubmit:this.onFormSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Body"),r.a.createElement("textarea",{value:this.state.markdown,onChange:function(t){return e.setState({markdown:t.target.value})}})),r.a.createElement("button",{class:"fluid ui button",onClick:this.buttonPressSubmit},"Submit")))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:O()(this.state.markdown)}})))))}}]),t}(r.a.Component),P=function(){return r.a.createElement("div",{className:"ui secondary pointing menu"},r.a.createElement(u.b,{to:"/",className:"item"},"Thiele's blog"),r.a.createElement("div",{className:"right menu"},r.a.createElement(u.b,{to:"/",className:"item"},"All Articles")))},T=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={id:"",password:""},a.onFormSubmit=function(){var e=Object(g.a)(E.a.mark(function e(t){var n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/auth/jwt/create/",{username:a.state.id,password:a.state.password});case 2:n=e.sent,localStorage.setItem("access",n.data.access),a.setState({id:"",password:""});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.buttonPressSubmit=function(e){e.preventDefault(),a.onFormSubmit()},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",{className:"ui form"},r.a.createElement("form",{className:"ui form",onSubmit:this.onFormSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"UserId"),r.a.createElement("input",{type:"text",value:this.state.userid,onChange:function(t){return e.setState({id:t.target.value})}})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("button",{class:"fluid ui button",onClick:this.buttonPressSubmit},"Submit"))))}}]),t}(r.a.Component),F=function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(P,null),r.a.createElement(m.a,{path:"/",exact:!0,component:x}),r.a.createElement(m.a,{path:"/login",exact:!0,component:T}),r.a.createElement(m.a,{path:"/articles/new",exact:!0,component:C}))))},A=Object(l.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSTS":return t.payload;default:return e}}}),_=Object(l.d)(A,Object(l.a)(o.a));s.a.render(r.a.createElement(i.a,{store:_},r.a.createElement(F,null)),document.querySelector("#root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.f7e18250.chunk.js.map