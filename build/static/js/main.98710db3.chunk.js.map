{"version":3,"sources":["apis/blogApi.js","components/TitleList.js","actions/index.js","components/CommentCreate.js","components/CommentBox.js","components/PostList.js","components/PostDetail.js","components/user/LoginNotification.js","components/articles/ArticleCreate.js","components/Header.js","components/user/Login.js","components/App.js","reducers/index.js","reducers/postReducer.js","reducers/postsReducer.js","reducers/titlesReducer.js","index.js"],"names":["axios","create","baseURL","TitleList","helperUrl","id","this","props","fetchTitles","titles","map","title","className","to","created_at","renderList","React","Component","connect","state","dispatch","a","blogApi","get","response","type","payload","data","CommentCreate","name","body","onFormSubmit","event","post","article","articleId","setState","window","location","reload","buttonPressSubmit","preventDefault","onSubmit","value","onChange","e","target","onClick","CommentBox","comments","getComments","comment","key","PostList","fetchPosts","marked","setOptions","highlight","code","lang","hljs","highlightAuto","posts","dangerouslySetInnerHTML","__html","PostDetail","fetchPost","match","params","console","log","LoginNotification","func","toast","info","loginCheck","ACCESSTOKEN","localStorage","getItem","token","status","warn","success","error","nextProps","nextState","propsDiff","_","isEqual","stateDiff","addNotification","ArticleCreate","markdown","headers","Authorization","assign","Header","Login","password","username","setItem","access","userid","App","path","exact","component","combineReducers","action","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","document","querySelector"],"mappings":"iTAEeA,E,OAAAA,EAAMC,OAAO,CACxBC,QAAS,+BCEPC,E,2MAKFC,UAAY,SAAAC,GACR,MAAM,aAAN,OAAoBA,I,mFAJpBC,KAAKC,MAAMC,gB,mCAQX,OAAOF,KAAKC,MAAME,OAAOC,IAAI,SAAAC,GACzB,OACI,yBAAKC,UAAU,QACX,uBAAGA,UAAU,kCACb,yBAAKA,UAAU,WACX,kBAAC,IAAD,CAAMC,GAAE,oBAAeF,EAAMN,IAAMO,UAAU,UACxCD,EAAMA,OAEX,yBAAKC,UAAU,eAAeD,EAAMG,kB,+BAQpD,OACI,yBAAKF,UAAU,2BACVN,KAAKS,kB,GA5BEC,IAAMC,WAsCfC,cAJS,SAACC,GACrB,MAAO,CAAEV,OAAQU,EAAMV,SAGa,CAAED,YClCf,wDAAM,WAAMY,GAAN,eAAAC,EAAA,qEACNC,EAAQC,IAAI,YADN,OACvBC,EADuB,OAG7BJ,EAAS,CAAEK,KAAM,eAAgBC,QAASF,EAASG,OAHtB,yCAAN,wDDkCZT,CAA0Cf,G,0CEQ1CyB,E,2MA9CXT,MAAQ,CAACU,KAAK,GAAIC,KAAK,I,EAEvBC,aAAe,SAAAC,GAEXV,EAAQW,KAAK,aAAc,CACvBC,QAAS,EAAK3B,MAAM4B,UACpBN,KAAM,EAAKV,MAAMU,KACjBC,KAAM,EAAKX,MAAMW,OAGrB,EAAKM,SAAS,CAACzB,MAAO,GAAImB,KAAM,KAChCO,OAAOC,SAASC,U,EAGpBC,kBAAoB,SAAAR,GAChBA,EAAMS,iBACN,EAAKV,gB,wEAGC,IAAD,OACL,OACI,0BAAMnB,UAAU,gBAAgB8B,SAAUpC,KAAKyB,cAC3C,yBAAKnB,UAAU,SACX,uCACA,2BACIa,KAAK,OACLkB,MAAOrC,KAAKa,MAAMU,KAClBe,SAAU,SAACC,GAAD,OAAO,EAAKT,SAAS,CAACP,KAAMgB,EAAEC,OAAOH,YAGvD,yBAAK/B,UAAU,SACX,uCACA,8BACI+B,MAAOrC,KAAKa,MAAMW,KAClBc,SAAU,SAACC,GAAD,OAAO,EAAKT,SAAS,CAACN,KAAMe,EAAEC,OAAOH,YAGvD,yBAAK/B,UAAU,wCAAwCmC,QAASzC,KAAKkC,mBACjE,uBAAG5B,UAAU,cADjB,qB,GAvCYI,IAAMC,WCuCnB+B,E,2MApCX7B,MAAQ,CAAE8B,SAAU,I,EAEpBC,Y,sCAAc,WAAM7C,GAAN,eAAAgB,EAAA,qEACaC,EAAQC,IAAR,gCAAqClB,IADlD,OACJmB,EADI,OAGV,EAAKY,SAAS,CAACa,SAAUzB,EAASG,OAHxB,yC,yIAOVrB,KAAK4C,YAAY5C,KAAKC,MAAM4B,a,mCAI5B,OAAO7B,KAAKa,MAAM8B,SAASvC,IAAI,SAAAyC,GAC3B,OACI,yBAAKvC,UAAU,UAAUwC,IAAKD,EAAQ9C,IAClC,yBAAKO,UAAU,WACX,yBAAKA,UAAU,UAAUuC,EAAQtB,MACjC,yBAAKjB,UAAU,QAAQuC,EAAQrB,Y,+BAQ/C,OACI,yBAAKlB,UAAU,qBACX,wBAAIA,UAAU,sBAAd,YACCN,KAAKS,aACN,kBAAC,EAAD,CAAeoB,UAAW7B,KAAKC,MAAM4B,iB,GAhC5BnB,IAAMC,WCKzBoC,E,4LAEE/C,KAAKC,MAAM+C,aACXC,IAAOC,WAAW,CACdC,UAAW,SAASC,EAAMC,GACxB,OAAOC,IAAKC,cAAcH,EAAM,CAACC,IAAOhB,W,mCAM9C,OAAOrC,KAAKC,MAAMuD,MAAMpD,IAAI,SAAAuB,GACxB,OACI,yBAAKrB,UAAU,cACX,yBAAKA,UAAU,OAAOwC,IAAKnB,EAAK5B,IAC5B,yBAAKO,UAAU,WACX,yBAAKA,UAAU,eACX,wBAAIA,UAAU,sBAAsBqB,EAAKtB,OACzC,yBAAKoD,wBAAyB,CAACC,OAAQT,IAAOtB,EAAKH,SACnD,kBAAC,EAAD,CAAYK,UAAWF,EAAK5B,a,+BAUpD,OAAO,yBAAKO,UAAU,2BAA2BN,KAAKS,kB,GA7BvCC,IAAMC,WAqCdC,cAJS,SAACC,GACrB,MAAO,CAAE2C,MAAO3C,EAAM2C,QAGc,CAAER,WH5ChB,wDAAM,WAAMlC,GAAN,eAAAC,EAAA,qEACLC,EAAQC,IAAI,cADP,OACtBC,EADsB,OAG5BJ,EAAS,CAAEK,KAAM,cAAeC,QAASF,EAASG,OAHtB,yCAAN,wDG4CXT,CAAyCmC,GCrClDY,E,4LAEE3D,KAAKC,MAAM2D,UAAU5D,KAAKC,MAAM4D,MAAMC,OAAO/D,IAC7CkD,IAAOC,WAAW,CACdC,UAAW,SAASC,EAAMC,GAC1B,OAAOC,IAAKC,cAAcH,EAAM,CAACC,IAAOhB,W,mCAM5C,IAAMV,EAAO3B,KAAKC,MAAM0B,KACxB,OACI,yBAAKrB,UAAU,cACX,yBAAKA,UAAU,OAAOwC,IAAKnB,EAAK5B,IAC5B,yBAAKO,UAAU,WACX,yBAAKA,UAAU,eACX,wBAAIA,UAAU,sBAAsBqB,EAAKtB,OACzC,yBAAKoD,wBAAyB,CAACC,OAAQT,IAAOtB,EAAKH,MAAQ,OAC3D,kBAAC,EAAD,CAAYK,UAAWF,EAAK5B,W,+BAShD,MAAmC,QAA/BC,KAAKC,MAAM4D,MAAMC,OAAO/D,GACjB,MAGXgE,QAAQC,IAAIhE,KAAKC,OACV,yBAAKK,UAAU,2BAA2BN,KAAKS,mB,GAjCrCC,IAAMC,WAyChBC,cAJS,SAACC,GACrB,MAAO,CAAEc,KAAMd,EAAMc,OAGe,CAAEiC,UJnCjB,SAAA7D,GAAE,6CAAI,WAAMe,GAAN,eAAAC,EAAA,qEACJC,EAAQC,IAAR,oBAAyBlB,EAAzB,MADI,OACrBmB,EADqB,OAG3BJ,EAAS,CAAEK,KAAM,aAAcC,QAASF,EAASG,OAHtB,yCAAJ,wDImCZT,CAAwC+C,G,yBCGxCM,G,iNA7CXpD,MAAQ,CAAEqD,KAAM,WAAWC,IAAMC,KAAK,yC,EAEtCC,WAAa,WACT,IAAMC,EAAcC,aAAaC,QAAQ,UACpCF,EAID,qBAAC,sBAAAvD,EAAA,qEAC0BC,EAAQW,KAAK,oBAAqB,CACrD8C,MAAOH,IAFd,OAI2B,MAJ3B,OAIgBI,OACT,EAAK5C,SAAS,CAACoC,KAAM,WACjBC,IAAMQ,KAAK,6BAEf,EAAK7C,SAAS,CAACoC,KAAM,WACjBC,IAAMS,QAAQ,wBATzB,wCAAD,GAHA,EAAK9C,SAAS,CAACoC,KAAM,WACjBC,IAAMU,MAAM,6B,qFAkBFC,EAAWC,GAC7B,IAAMC,EAAYC,IAAEC,QAAQJ,EAAW9E,KAAKC,OACtCkF,EAAYF,IAAEC,QAAQH,EAAW/E,KAAKa,OAC5C,QAASmE,GAAaG,K,0CAItBnF,KAAKqE,e,+BAKL,OADArE,KAAKoF,gBAAkBpF,KAAKa,MAAMqD,KAE9B,6BACKlE,KAAKoF,kBACN,kBAAC,IAAD,W,GAzCgB1E,IAAMC,YC8EvB0E,E,2MAvEXxE,MAAQ,CAAER,MAAO,GAAIiF,SAAU,I,EAE/B7D,aAAe,SAAAC,GACX,IAAM4C,EAAcC,aAAaC,QAAQ,UAEzCxD,EAAQW,KAAK,aAAc,CACvBtB,MAAO,EAAKQ,MAAMR,MAClBmB,KAAM,EAAKX,MAAMyE,UAErB,CACIC,QAAS,CACLC,cAAc,OAAD,OAASlB,MAG9B,EAAKxC,SAAS,CAACzB,MAAO,GAAIiF,SAAU,KACpCvD,OAAOC,SAASyD,OAAO,Q,EAG3BvD,kBAAoB,SAAAR,GAChBA,EAAMS,iBACN,EAAKV,gB,mFAILwB,IAAOC,WAAW,CACdC,UAAW,SAASC,EAAMC,GACxB,OAAOC,IAAKC,cAAcH,EAAM,CAACC,IAAOhB,W,+BAKzC,IAAD,OACJ,OACI,6BACI,kBAAC,EAAD,MACA,yBAAK/B,UAAU,gCACX,yBAAKA,UAAU,UACX,yBAAKA,UAAU,cACX,yBAAKA,UAAU,WACX,0BAAMA,UAAU,UAAU8B,SAAUpC,KAAKyB,cACrC,yBAAKnB,UAAU,SACX,wCACA,2BACIa,KAAK,OACLkB,MAAOrC,KAAKa,MAAMR,MAClBiC,SAAU,SAACC,GAAD,OAAO,EAAKT,SAAS,CAACzB,MAAOkC,EAAEC,OAAOH,YAGxD,yBAAK/B,UAAU,SACX,uCACA,8BACI+B,MAAOrC,KAAKa,MAAMyE,SAClBhD,SAAU,SAACC,GAAD,OAAO,EAAKT,SAAS,CAACwD,SAAU/C,EAAEC,OAAOH,YAG3D,4BAAQ/B,UAAU,kBAAkBmC,QAASzC,KAAKkC,mBAAlD,cAKhB,yBAAK5B,UAAU,UACX,yBAAKA,UAAU,cACX,yBAAKmD,wBAAyB,CAACC,OAAQT,IAAOjD,KAAKa,MAAMyE,qB,GA/DzD5E,IAAMC,WCYnB+E,EArBA,WACX,OACI,yBAAKpF,UAAU,8BACX,kBAAC,IAAD,CAAMC,GAAG,IAAID,UAAU,eAAvB,iBAGA,kBAAC,IAAD,CAAMC,GAAG,gBAAgBD,UAAU,QAAnC,YAGA,yBAAKA,UAAU,cACX,kBAAC,IAAD,CAAMC,GAAG,UAAUD,UAAU,QAA7B,cAGA,kBAAC,IAAD,CAAMC,GAAG,SAASD,UAAU,QAA5B,YCoCDqF,E,2MAhDX9E,MAAQ,CAACd,GAAI,GAAI6F,SAAU,I,EAE3BnE,a,sCAAe,WAAMC,GAAN,eAAAX,EAAA,qEACYC,EAAQW,KAAK,oBAAqB,CACrDkE,SAAU,EAAKhF,MAAMd,GACrB6F,SAAU,EAAK/E,MAAM+E,WAHd,OACL1E,EADK,OAKXqD,aAAauB,QAAQ,SAAU5E,EAASG,KAAK0E,QAC7C,EAAKjE,SAAS,CAAC/B,GAAI,GAAI6F,SAAU,KACjC7D,OAAOC,SAASyD,OAAO,OAPZ,yC,wDAUfvD,kBAAoB,SAAAR,GAChBA,EAAMS,iBACN,EAAKV,gB,wEAGC,IAAD,OACL,OACI,yBAAKnB,UAAU,cACX,yBAAKA,UAAU,WACX,0BAAMA,UAAU,UAAU8B,SAAUpC,KAAKyB,cACrC,yBAAKnB,UAAU,SACX,yCACA,2BACIa,KAAK,OACLkB,MAAOrC,KAAKa,MAAMmF,OAClB1D,SAAU,SAACC,GAAD,OAAO,EAAKT,SAAS,CAAC/B,GAAIwC,EAAEC,OAAOH,YAGrD,yBAAK/B,UAAU,SACX,2CACA,2BACIa,KAAK,WACLkB,MAAOrC,KAAKa,MAAM+E,SAClBtD,SAAU,SAACC,GAAD,OAAO,EAAKT,SAAS,CAAC8D,SAAUrD,EAAEC,OAAOH,YAG3D,4BAAQ/B,UAAU,kBAAkBmC,QAASzC,KAAKkC,mBAAlD,iB,GAvCJxB,IAAMC,WCuBXsF,EAjBH,WACR,OACI,yBAAK3F,UAAU,gBACX,kBAAC,IAAD,KACI,6BACI,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAO4F,KAAK,IAAIC,OAAK,EAACC,UAAWrD,IACjC,kBAAC,IAAD,CAAOmD,KAAK,UAAUC,OAAK,EAACC,UAAWvG,IACvC,kBAAC,IAAD,CAAOqG,KAAK,SAASC,OAAK,EAACC,UAAWT,IACtC,kBAAC,IAAD,CAAOO,KAAK,gBAAgBC,OAAK,EAACC,UAAWf,IAC7C,kBAAC,IAAD,CAAOa,KAAK,gBAAgBC,OAAK,EAACC,UAAWzC,QCdlD0C,cAAgB,CAC3B1E,KCNW,WAAuB,IAAtBd,EAAqB,uDAAf,GAAIyF,EAAW,uCACjC,OAAOA,EAAOnF,MACV,IAAK,aACD,OAAOmF,EAAOlF,QAClB,QACI,OAAOP,IDEf2C,MEPW,WAAuB,IAAtB3C,EAAqB,uDAAf,GAAIyF,EAAW,uCACjC,OAAOA,EAAOnF,MACV,IAAK,cACD,OAAOmF,EAAOlF,QAClB,QACI,OAAOP,IFGfV,OGRW,WAAuB,IAAtBU,EAAqB,uDAAf,GAAIyF,EAAW,uCACjC,OAAOA,EAAOnF,MACV,IAAK,eACD,OAAOmF,EAAOlF,QAClB,QACI,OAAOP,MCIb0F,EAAQC,YAAYC,EAAUC,YAAgBC,MAEpDC,IAASC,OACL,kBAAC,IAAD,CAAUN,MAAOA,GACb,kBAAC,EAAD,OAEJO,SAASC,cAAc,Y","file":"static/js/main.98710db3.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://thiele.work/api/v1'\r\n    //baseURL: 'http://127.0.0.1:8000/api/v1'\r\n});","import React from 'react';\r\nimport {connect} from 'react-redux'\r\nimport { fetchTitles } from '../actions';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass TitleList extends React.Component {\r\n    componentDidMount() {\r\n        this.props.fetchTitles();\r\n    };\r\n\r\n    helperUrl = id => {\r\n        return `/articles/${id}`;\r\n    }\r\n\r\n    renderList() {\r\n        return this.props.titles.map(title => {\r\n            return (\r\n                <div className=\"item\">\r\n                    <i className=\"large angle double right icon\"></i>\r\n                    <div className=\"content\">\r\n                        <Link to={`/articles/${title.id}`} className=\"header\">\r\n                            {title.title}\r\n                        </Link>\r\n                        <div className=\"description\">{title.created_at}</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ui relaxed divided list\">\r\n                {this.renderList()}\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { titles: state.titles };\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchTitles })(TitleList);","import blogApi from '../apis/blogApi';\r\n\r\nexport const fetchPosts = () => async dispatch => {\r\n    const response = await blogApi.get('/articles/');\r\n\r\n    dispatch({ type: 'FETCH_POSTS', payload: response.data })\r\n};\r\n\r\n\r\nexport const fetchTitles = () => async dispatch => {\r\n    const response = await blogApi.get('/titles/');\r\n\r\n    dispatch({ type: 'FETCH_TITLES', payload: response.data })\r\n};\r\n\r\nexport const fetchPost = id => async dispatch => {\r\n    const response = await blogApi.get(`/articles/${id}/`);\r\n\r\n    dispatch({ type: 'FETCH_POST', payload: response.data })\r\n};","import React from 'react';\r\nimport blogApi from '../apis/blogApi';\r\n\r\nclass CommentCreate extends React.Component {\r\n    \r\n    state = {name:'', body:''}\r\n\r\n    onFormSubmit = event => {\r\n\r\n        blogApi.post(\"/comments/\", {\r\n            article: this.props.articleId,\r\n            name: this.state.name,\r\n            body: this.state.body,\r\n        },\r\n        );\r\n        this.setState({title: '', body: ''})\r\n        window.location.reload();\r\n    }\r\n\r\n    buttonPressSubmit = event => {\r\n        event.preventDefault();\r\n        this.onFormSubmit();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form className=\"ui reply form\" onSubmit={this.onFormSubmit}>\r\n                <div className=\"field\">\r\n                    <label>Name</label>\r\n                    <input \r\n                        type=\"text\"\r\n                        value={this.state.name}\r\n                        onChange={(e) => this.setState({name: e.target.value})}\r\n                    />\r\n                </div>\r\n                <div className=\"field\">\r\n                    <label>Body</label>\r\n                    <textarea\r\n                        value={this.state.body}\r\n                        onChange={(e) => this.setState({body: e.target.value})}\r\n                    />\r\n                </div>\r\n                <div className=\"ui primary submit labeled icon button\" onClick={this.buttonPressSubmit}>\r\n                    <i className=\"icon edit\"></i> Add Comment\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default CommentCreate;","import React from 'react';\r\nimport blogApi from '../apis/blogApi';\r\nimport CommentCreate from './CommentCreate';\r\n\r\nclass CommentBox extends React.Component {\r\n\r\n    state = { comments: [] };\r\n\r\n    getComments = async id =>{\r\n        const response = await blogApi.get(`/comments/?article_id=${id}`)\r\n\r\n        this.setState({comments: response.data})\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getComments(this.props.articleId)\r\n    }\r\n    \r\n    renderList() {\r\n        return this.state.comments.map(comment => {\r\n            return (\r\n                <div className=\"comment\" key={comment.id}>\r\n                    <div className=\"content\">\r\n                        <div className=\"author\">{comment.name}</div>\r\n                        <div className=\"text\">{comment.body}</div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n    };\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"ui small comments\">\r\n                <h3 className=\"ui dividing header\">Comments</h3>\r\n                {this.renderList()}\r\n                <CommentCreate articleId={this.props.articleId} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CommentBox","import './PostList.css';\r\nimport React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { fetchPosts } from '../actions';\r\nimport marked from 'marked';\r\nimport hljs from 'highlightjs';\r\n\r\nimport CommentBox from './CommentBox';\r\n\r\nclass PostList extends React.Component {\r\n    componentDidMount() {\r\n        this.props.fetchPosts();\r\n        marked.setOptions({\r\n            highlight: function(code, lang) {\r\n              return hljs.highlightAuto(code, [lang]).value;\r\n            }\r\n        });\r\n    }\r\n\r\n    renderList() {\r\n        return this.props.posts.map(post => {\r\n            return (\r\n                <div className=\"ui segment\">\r\n                    <div className=\"item\" key={post.id}>\r\n                        <div className=\"content\">\r\n                            <div className=\"description\">\r\n                                <h1 className=\"ui dividing header\">{post.title}</h1>\r\n                                <div dangerouslySetInnerHTML={{__html: marked(post.body)}}></div>\r\n                                <CommentBox articleId={post.id} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"ui relaxed divided list\">{this.renderList()}</div>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { posts: state.posts };\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchPosts })(PostList);","import './PostList.css';\r\nimport React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { fetchPost } from '../actions';\r\nimport marked from 'marked';\r\nimport hljs from 'highlightjs';\r\n\r\nimport CommentBox from './CommentBox';\r\n\r\nclass PostDetail extends React.Component {\r\n    componentDidMount() {\r\n        this.props.fetchPost(this.props.match.params.id);\r\n        marked.setOptions({\r\n            highlight: function(code, lang) {\r\n            return hljs.highlightAuto(code, [lang]).value;\r\n            }\r\n        });\r\n    }\r\n\r\n    renderList() {\r\n        const post = this.props.post;\r\n        return (\r\n            <div className=\"ui segment\">\r\n                <div className=\"item\" key={post.id}>\r\n                    <div className=\"content\">\r\n                        <div className=\"description\">\r\n                            <h1 className=\"ui dividing header\">{post.title}</h1>\r\n                            <div dangerouslySetInnerHTML={{__html: marked(post.body || '')}}></div>\r\n                            <CommentBox articleId={post.id} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        if (this.props.match.params.id === \"new\"){\r\n            return null;\r\n        }\r\n\r\n        console.log(this.props);\r\n        return <div className=\"ui relaxed divided list\">{this.renderList()}</div>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { post: state.post };\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchPost })(PostDetail);","import _ from 'lodash';\r\nimport React from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport blogApi from '../../apis/blogApi';\r\n\r\nclass LoginNotification extends React.Component {\r\n\r\n    state = { func: function(){toast.info(\"Login required to create an article\")} }\r\n\r\n    loginCheck = () => {\r\n        const ACCESSTOKEN = localStorage.getItem('access');\r\n        if (!ACCESSTOKEN) {\r\n            this.setState({func: function(){\r\n                toast.error(\"You are not logged in\")}}) \r\n        } else {\r\n            (async () => {\r\n                const response = await blogApi.post(\"/auth/jwt/verify/\", {\r\n                    token: ACCESSTOKEN\r\n                });\r\n                if (response.status !== 200) {\r\n                    this.setState({func: function(){\r\n                        toast.warn(\"Your token has expired\")}})\r\n                } else {\r\n                    this.setState({func: function(){\r\n                        toast.success(\"You are logged in\")}})\r\n                }\r\n                \r\n            })();\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        const propsDiff = _.isEqual(nextProps, this.props);\r\n        const stateDiff = _.isEqual(nextState, this.state);\r\n        return !(propsDiff && stateDiff);\r\n      }\r\n\r\n    componentDidMount(){\r\n        this.loginCheck()\r\n    }\r\n\r\n    render() {\r\n        this.addNotification = this.state.func\r\n        return (\r\n            <div>\r\n                {this.addNotification()}\r\n                <ToastContainer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoginNotification;","import React from 'react';\r\nimport marked from 'marked';\r\nimport hljs from 'highlightjs';\r\nimport blogApi from '../../apis/blogApi';\r\nimport LoginNotification from '../user/LoginNotification';\r\n\r\n// const ArticleCreate = () => {\r\n//     return (\r\n//         <div></div>\r\n//     );\r\n// };\r\n\r\nclass ArticleCreate extends React.Component {\r\n    state = { title: '', markdown: '' }\r\n\r\n    onFormSubmit = event => {\r\n        const ACCESSTOKEN = localStorage.getItem('access');\r\n\r\n        blogApi.post(\"/articles/\", {\r\n            title: this.state.title,\r\n            body: this.state.markdown\r\n        },\r\n        {\r\n            headers: {\r\n                Authorization: `JWT ${ACCESSTOKEN}`,\r\n            }\r\n        });\r\n        this.setState({title: '', markdown: ''})\r\n        window.location.assign(\"../\")\r\n    }\r\n    \r\n    buttonPressSubmit = event => {\r\n        event.preventDefault();\r\n        this.onFormSubmit();\r\n    }\r\n\r\n    componentDidMount() {\r\n        marked.setOptions({\r\n            highlight: function(code, lang) {\r\n              return hljs.highlightAuto(code, [lang]).value;\r\n            }\r\n        });\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <LoginNotification />\r\n                <div className=\"ui two column stackable grid\">\r\n                    <div className=\"column\">\r\n                        <div className=\"ui segment\">\r\n                            <div className=\"ui form\">\r\n                                <form className=\"ui form\" onSubmit={this.onFormSubmit}>\r\n                                    <div className=\"field\">\r\n                                        <label>Title</label>\r\n                                        <input \r\n                                            type=\"text\"\r\n                                            value={this.state.title}\r\n                                            onChange={(e) => this.setState({title: e.target.value})}\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"field\">\r\n                                        <label>Body</label>\r\n                                        <textarea\r\n                                            value={this.state.markdown}\r\n                                            onChange={(e) => this.setState({markdown: e.target.value})}\r\n                                        />\r\n                                    </div>\r\n                                    <button className=\"fluid ui button\" onClick={this.buttonPressSubmit}>Submit</button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"column\">\r\n                        <div className=\"ui segment\">\r\n                            <div dangerouslySetInnerHTML={{__html: marked(this.state.markdown)}}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ArticleCreate;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <div className=\"ui secondary pointing menu\">\r\n            <Link to=\"/\" className=\"active item\">\r\n                Thiele's blog\r\n            </Link>\r\n            <Link to=\"/articles/new\" className=\"item\">\r\n                New Post\r\n            </Link>\r\n            <div className=\"right menu\">\r\n                <Link to=\"/titles\" className=\"item\">\r\n                    Title List\r\n                </Link>\r\n                <Link to=\"/login\" className=\"item\">\r\n                    Login\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport blogApi from '../../apis/blogApi';\r\n\r\nclass Login extends React.Component {\r\n    state = {id: '', password: ''}\r\n\r\n    onFormSubmit = async event => {\r\n        const response = await blogApi.post(\"/auth/jwt/create/\", {\r\n            username: this.state.id,\r\n            password: this.state.password\r\n        });\r\n        localStorage.setItem('access', response.data.access)\r\n        this.setState({id: '', password: ''})\r\n        window.location.assign(\"../\")\r\n    }\r\n\r\n    buttonPressSubmit = event => {\r\n        event.preventDefault();\r\n        this.onFormSubmit();\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"ui segment\">\r\n                <div className=\"ui form\">\r\n                    <form className=\"ui form\" onSubmit={this.onFormSubmit}>\r\n                        <div className=\"field\">\r\n                            <label>UserId</label>\r\n                            <input \r\n                                type=\"text\"\r\n                                value={this.state.userid}\r\n                                onChange={(e) => this.setState({id: e.target.value})}\r\n                            />\r\n                        </div>\r\n                        <div className=\"field\">\r\n                            <label>Password</label>\r\n                            <input \r\n                                type=\"password\"\r\n                                value={this.state.password}\r\n                                onChange={(e) => this.setState({password: e.target.value})}\r\n                            />\r\n                        </div>\r\n                        <button className=\"fluid ui button\" onClick={this.buttonPressSubmit}>Submit</button>                        \r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport TitleList from './TitleList';\r\nimport PostList from './PostList';\r\nimport PostDetail from './PostDetail';\r\nimport ArticleCreate from './articles/ArticleCreate';\r\nimport Header from './Header';\r\nimport Login from './user/Login';\r\n\r\nconst App = () => {\r\n    return (\r\n        <div className=\"ui container\">\r\n            <BrowserRouter>\r\n                <div>\r\n                    <Header />\r\n                    <Route path=\"/\" exact component={PostList} />\r\n                    <Route path=\"/titles\" exact component={TitleList} />\r\n                    <Route path=\"/login\" exact component={Login} />\r\n                    <Route path=\"/articles/new\" exact component={ArticleCreate} />\r\n                    <Route path=\"/articles/:id\" exact component={PostDetail} />\r\n                </div>\r\n            </BrowserRouter>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App","import { combineReducers } from 'redux';\r\nimport postsReducers from './postsReducer';\r\nimport titlesReducers from './titlesReducer';\r\nimport postReducers from './postReducer';\r\n\r\nexport default combineReducers({\r\n    post: postReducers,\r\n    posts: postsReducers,\r\n    titles: titlesReducers,\r\n});","export default (state=[], action) => {\r\n    switch(action.type) {\r\n        case 'FETCH_POST':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export default (state=[], action) => {\r\n    switch(action.type) {\r\n        case 'FETCH_POSTS':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","export default (state=[], action) => {\r\n    switch(action.type) {\r\n        case 'FETCH_TITLES':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware} from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.querySelector('#root')\r\n);"],"sourceRoot":""}